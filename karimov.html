<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ì–∞–π–¥: 3 –®–∞–≥–∞ –∫ –°–≤–æ–±–æ–¥–µ –ú—ã—Å–ª–∏</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFF7AE; /* Energetic & Playful - Light Yellow */
        }
        .card {
            background-color: white;
            border-radius: 1.5rem;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05), 0 6px 6px rgba(0,0,0,0.07);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .btn-primary {
            background-color: #00A19D; /* Energetic & Playful - Teal */
            color: white;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 161, 157, 0.2);
        }
        .btn-primary:hover {
            background-color: #007976; /* Darker Teal */
            transform: translateY(-2px);
            box-shadow: 0 7px 10px rgba(0, 161, 157, 0.3);
        }
        .btn-secondary {
            background-color: #FFB344; /* Energetic & Playful - Orange */
            color: #4A2E00; /* Dark Brown for contrast */
            font-weight: bold;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: #E0982E; /* Darker Orange */
            transform: translateY(-2px);
        }
        .section-header {
            color: #4A2E00; /* Dark Brown */
        }
        .sticky-nav {
            background-color: rgba(255, 247, 174, 0.8); /* Semi-transparent background */
            backdrop-filter: blur(10px);
        }
        .hidden-section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }
        .visible-section {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        .duel-question-text {
            transition: opacity 0.5s ease;
        }
        .error-message {
            color: #EF4444; /* Tailwind red-500 */
            font-size: 0.875rem; /* text-sm */
            margin-top: 0.5rem;
            display: none;
        }
    </style>
</head>
<body class="text-gray-800">

    <header class="sticky top-0 z-50 sticky-nav shadow-md">
        <nav class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
            <a href="#hero" class="text-xl font-extrabold text-[#007976]">–°–≤–æ–±–æ–¥–∞ –ú—ã—Å–ª–∏</a>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#step1" class="font-semibold text-gray-600 hover:text-[#00A19D] transition">–®–∞–≥ 1</a>
                <a href="#step2" class="font-semibold text-gray-600 hover:text-[#00A19D] transition">–®–∞–≥ 2</a>
                <a href="#step3" class="font-semibold text-gray-600 hover:text-[#00A19D] transition">–®–∞–≥ 3</a>
            </div>
        </nav>
    </header>

    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-16 space-y-24">
        
        <section id="hero" class="text-center space-y-6 py-16">
            <h1 class="text-5xl md:text-7xl font-extrabold text-[#4A2E00] leading-tight">–ò–∑–±–∞–≤—å—Å—è –æ—Ç –í—Ä–µ–¥–Ω—ã—Ö –ú—ã—Å–ª–µ–π!</h1>
            <p class="text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto">3 –ü—Ä–æ—Å—Ç—ã—Ö –®–∞–≥–∞ –∫ –°–≤–æ–±–æ–¥–µ –≤ –ì–æ–ª–æ–≤–µ</p>
            <p class="text-md text-gray-500 max-w-2xl mx-auto">–≠—Ç–æ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥–∞–π–¥ –ø–æ–º–æ–∂–µ—Ç —Ç–µ–±–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å, –∞ –ø—Ä–æ–¥–µ–ª–∞—Ç—å –ø—É—Ç—å –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Å–≤–æ–∏—Ö —É–±–µ–∂–¥–µ–Ω–∏–π. –ù–∞—á–Ω–∏ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!</p>
            <a href="#step1" class="inline-block btn-primary text-lg px-10 py-4">–ù–∞—á–∞—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é</a>
        </section>

        <section id="step1" class="card p-8 md:p-12 space-y-8">
            <div class="text-center">
                <h2 class="text-4xl font-extrabold section-header">–®–∞–≥ 1: –ü–æ–π–º–∞–π –ú—ã—Å–ª—å</h2>
                <p class="text-gray-600 mt-3 text-lg">–ü–µ—Ä–≤—ã–π —à–∞–≥ ‚Äî –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–µ–±—è —Å—Ç–æ–ø–æ—Ä–∏—Ç. –ù–∞—É—á–∏–º—Å—è –ª–æ–≤–∏—Ç—å –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –º—ã—Å–ª–∏ "–Ω–∞ –≥–æ—Ä—è—á–µ–º".</p>
            </div>
            
            <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                <label for="negative-thought-input" class="block font-semibold text-gray-700 mb-2 text-lg">–ö–∞–∫–∞—è –Ω–µ–≥–∞—Ç–∏–≤–Ω–∞—è –º—ã—Å–ª—å –∫—Ä—É—Ç–∏—Ç—Å—è —É —Ç–µ–±—è –≤ –≥–æ–ª–æ–≤–µ?</label>
                <p class="text-sm text-gray-500 mb-4">–ü–æ–π–º–∞–π –µ—ë! –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ "–£ –º–µ–Ω—è –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è" –∏–ª–∏ "–Ø –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à".</p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <input type="text" id="negative-thought-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –º—ã—Å–ª—å –∑–¥–µ—Å—å..." class="flex-grow w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FFB344] focus:border-[#FFB344] transition text-lg">
                    <button id="catch-thought-btn" class="btn-primary text-lg px-8 py-3">–ü–æ–π–º–∞—Ç—å!</button>
                </div>
                <p id="error-message" class="error-message">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –º—ã—Å–ª—å, —á—Ç–æ–±—ã –µ—ë –ø–æ–π–º–∞—Ç—å!</p>
            </div>

            <div id="step1-details" class="hidden-section space-y-6">
                <div class="card p-6 border border-gray-200">
                    <h3 class="font-bold text-xl text-[#00A19D]">üí° –¢–≤–æ–π –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π "–ë—É–¥–∏–ª—å–Ω–∏–∫"</h3>
                    <p class="text-gray-600 mt-2">–ö–æ–≥–¥–∞ —á—É–≤—Å—Ç–≤—É–µ—à—å –Ω–µ–≥–∞—Ç–∏–≤ (—Ç—Ä–µ–≤–æ–∂–Ω–æ, –∑–ª–∏—à—å—Å—è, –≥—Ä—É—Å—Ç–Ω–æ), –º—ã—Å–ª–µ–Ω–Ω–æ —Å–¥–µ–ª–∞–π "–°–¢–û–ü!". –°–ø—Ä–æ—Å–∏ —Å–µ–±—è: "–ß—Ç–æ —è —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø–æ–¥—É–º–∞–ª?". –ü—Ä–æ—Å—Ç–æ –∑–∞–º–µ—Ç—å —ç—Ç—É –º—ã—Å–ª—å, –Ω–µ —Ä—É–≥–∞–π —Å–µ–±—è.</p>
                </div>
                <div class="card p-6 border border-gray-200">
                    <h3 class="font-bold text-xl text-[#00A19D]">üîç –ù–∞–π–¥–∏ "–û—Ç–∫—É–¥–∞ –ù–æ–≥–∏ –†–∞—Å—Ç—É—Ç"</h3>
                    <p class="text-gray-600 mt-2">–í—Å–ø–æ–º–Ω–∏, –æ—Ç–∫—É–¥–∞ —ç—Ç–∞ –º—ã—Å–ª—å –≤–∑—è–ª–∞—Å—å. –ú–æ–∂–µ—Ç, —Ä–æ–¥–∏—Ç–µ–ª–∏ —Ç–∞–∫ –≥–æ–≤–æ—Ä–∏–ª–∏? –ò–ª–∏ —É—á–∏—Ç–µ–ª—è? –û–ø—ã—Ç –∏–∑ –¥–µ—Ç—Å—Ç–≤–∞? –ü–æ–º–Ω–∏: —ç—Ç–æ –Ω–µ –∂–µ–ª–µ–∑–Ω—ã–π –§–ê–ö–¢! –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å—Ç–∞—Ä–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∫–∞. –ï—ë –º–æ–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∫ —á–µ—Ä—Ç—è–º!</p>
                </div>
                <div class="text-center mt-8">
                    <button onclick="document.getElementById('step2').scrollIntoView({ behavior: 'smooth' });" class="btn-primary text-lg px-10 py-4">–ü–µ—Ä–µ–π—Ç–∏ –∫ –®–∞–≥—É 2</button>
                </div>
            </div>
        </section>

        <section id="step2" class="card p-8 md:p-12 space-y-8 opacity-50 pointer-events-none">
            <div class="text-center">
                <h2 class="text-4xl font-extrabold section-header">–®–∞–≥ 2: –í—ã–∑–æ–≤–∏ –ú—ã—Å–ª—å –Ω–∞ –î—É—ç–ª—å</h2>
                <p class="text-gray-600 mt-3 text-lg">–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã—Å–ª—å –ø–æ–π–º–∞–Ω–∞, –¥–∞–≤–∞–π –ø–æ—Å—Ç–∞–≤–∏–º –µ—ë –ø–æ–¥ —Å–æ–º–Ω–µ–Ω–∏–µ –∏ –æ—Å–ª–∞–±–∏–º –µ—ë —Ö–≤–∞—Ç–∫—É.</p>
            </div>
            
            <div id="duel-arena" class="hidden-section bg-gray-50 p-6 rounded-xl space-y-6 text-center border border-gray-200">
                <p class="text-gray-600 text-lg">–¢–≤–æ—è –º—ã—Å–ª—å –Ω–∞ –¥—É—ç–ª–∏:</p>
                <div id="thought-on-display" class="bg-[#FFB344] text-[#4A2E00] font-extrabold p-4 rounded-lg text-2xl md:text-3xl transition-all duration-500 duel-question-text"></div>
                
                <div id="duel-questions" class="space-y-6">
                    <div id="duel-q1" class="duel-question space-y-4">
                        <h3 class="font-bold text-xl text-[#00A19D]">–í–æ–ø—Ä–æ—Å 1: "–≠—Ç–æ –¢–æ—á–Ω–æ –ü—Ä–∞–≤–¥–∞?"</h3>
                        <p class="text-gray-600">–í—Å–ø–æ–º–Ω–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —ç—Ç–∞ –º—ã—Å–ª—å –ù–ï —Å—Ä–∞–±–æ—Ç–∞–ª–∞. –ù–∞–π–¥–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –¥–∞–∂–µ —Å–∞–º—ã–µ –º–∞–ª–µ–Ω—å–∫–∏–µ. –û–Ω–∏ –¥–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ —É–±–µ–∂–¥–µ–Ω–∏–µ –Ω–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ.</p>
                        <button class="duel-next-btn btn-secondary">–ù–∞—à—ë–ª –∏—Å–∫–ª—é—á–µ–Ω–∏–µ!</button>
                    </div>

                    <div id="duel-q2" class="duel-question hidden space-y-4">
                        <h3 class="font-bold text-xl text-[#00A19D]">–í–æ–ø—Ä–æ—Å 2: "–ú–Ω–µ –≠—Ç–æ –ü–æ–º–æ–≥–∞–µ—Ç?"</h3>
                        <p class="text-gray-600">–ö–∞–∫ —ç—Ç–∞ –º—ã—Å–ª—å –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–≤–æ—é –∂–∏–∑–Ω—å? –û–Ω–∞ —Ç–µ–±—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–ª–∏ —Ç–æ—Ä–º–æ–∑–∏—Ç? –ß—Ç–æ —Ç—ã —Ç–µ—Ä—è–µ—à—å, —Ü–µ–ø–ª—è—è—Å—å –∑–∞ –Ω–µ—ë? –ì–æ—Ç–æ–≤ –ª–∏ –æ—Ç–ø—É—Å—Ç–∏—Ç—å –µ—ë —Ä–∞–¥–∏ —á–µ–≥–æ-—Ç–æ –∫—Ä—É—Ç–æ–≥–æ?</p>
                        <button class="duel-next-btn btn-secondary">–ü–æ–Ω—è–ª, —á—Ç–æ —Ç–µ—Ä—è—é!</button>
                    </div>

                    <div id="duel-q3" class="duel-question hidden space-y-4">
                        <h3 class="font-bold text-xl text-[#00A19D]">–í–æ–ø—Ä–æ—Å 3: "–ê –ß—Ç–æ, –ï—Å–ª–∏...?"</h3>
                        <p class="text-gray-600">–í–º–µ—Å—Ç–æ "–ù–µ —Å–ø—Ä–∞–≤–ª—é—Å—å" —Å–∫–∞–∂–∏: "–ê —á—Ç–æ, –µ—Å–ª–∏ —è —Å–ø—Ä–∞–≤–ª—é—Å—å?". –í–º–µ—Å—Ç–æ "–ú–µ–Ω—è –æ—Å—É–¥—è—Ç" ‚Äì "–ê —á—Ç–æ, –µ—Å–ª–∏ –æ–Ω–∏ –ø–æ–π–º—É—Ç –∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç?". –≠—Ç–∞ —Ñ—Ä–∞–∑–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–≤–µ—Ä–∏ –¥–ª—è –Ω–æ–≤—ã—Ö, –∫–ª–∞—Å—Å–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.</p>
                        <button class="duel-next-btn btn-secondary">–û—Ç–∫—Ä—ã–ª –Ω–æ–≤—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã!</button>
                    </div>
                </div>
                
                <div id="duel-complete-message" class="hidden space-y-4">
                    <h3 class="font-bold text-2xl text-[#00A19D]">ü•≥ –î—É—ç–ª—å –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h3>
                    <p class="text-gray-700 text-lg">–¢–≤–æ—è —Å—Ç–∞—Ä–∞—è –º—ã—Å–ª—å –æ—Å–ª–∞–±–ª–µ–Ω–∞. –¢–µ–ø–µ—Ä—å –æ–Ω–∞ –Ω–µ –∏–º–µ–µ—Ç –Ω–∞–¥ —Ç–æ–±–æ–π —Ç–∞–∫–æ–π –≤–ª–∞—Å—Ç–∏!</p>
                    <button onclick="document.getElementById('step3').scrollIntoView({ behavior: 'smooth' });" class="btn-primary text-lg px-10 py-4">–ü–µ—Ä–µ–π—Ç–∏ –∫ –®–∞–≥—É 3</button>
                </div>
            </div>
        </section>

        <section id="step3" class="card p-8 md:p-12 space-y-8 opacity-50 pointer-events-none">
            <div class="text-center">
                <h2 class="text-4xl font-extrabold section-header">–®–∞–≥ 3: –ü–µ—Ä–µ–ø–∏—à–∏ –°–≤–æ—é –ò—Å—Ç–æ—Ä–∏—é</h2>
                <p class="text-gray-600 mt-3 text-lg">–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —Å—Ç–∞—Ä–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Å–ª–∞–±–ª–µ–Ω–∞, –ø–æ—Ä–∞ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é, –º–æ—â–Ω—É—é –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è —Ç–≤–æ–µ–≥–æ –º–æ–∑–≥–∞.</p>
            </div>
            
            <div class="bg-gray-50 p-6 rounded-xl border border-gray-200 space-y-6">
                <h3 class="font-bold text-xl text-[#00A19D]">‚úçÔ∏è –°–æ–∑–¥–∞–π –°–≤–æ—ë –ù–æ–≤–æ–µ –ü—Ä–∞–≤–∏–ª–æ</h3>
                <p class="text-gray-600">–ü–µ—Ä–µ–¥–µ–ª–∞–π –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–µ —É–±–µ–∂–¥–µ–Ω–∏–µ –≤ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–µ. –ò—Å–ø–æ–ª—å–∑—É–π –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è, –∫–∞–∫ –±—É–¥—Ç–æ —ç—Ç–æ —É–∂–µ —Ñ–∞–∫—Ç. –ü—Ä–æ–∏–∑–Ω–µ—Å–∏ –≤—Å–ª—É—Ö, –ø–æ—á—É–≤—Å—Ç–≤—É–π, –∫–∞–∫ –æ–Ω–æ –æ—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è.</p>
                <textarea id="new-belief-input" placeholder="–ú–æ—ë –Ω–æ–≤–æ–µ —É–±–µ–∂–¥–µ–Ω–∏–µ: –Ø –ª–µ–≥–∫–æ –∑–Ω–∞–∫–æ–º–ª—é—Å—å —Å –Ω–æ–≤—ã–º–∏ –ª—é–¥—å–º–∏!" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FFB344] focus:border-[#FFB344] transition h-32 text-lg"></textarea>
            </div>

            <div class="bg-gray-50 p-6 rounded-xl border border-gray-200 space-y-6">
                <h3 class="font-bold text-xl text-[#00A19D]">üöÄ –í–Ω–µ–¥—Ä—è–π –ù–æ–≤–æ–µ –ü—Ä–∞–≤–∏–ª–æ –≤ –ñ–∏–∑–Ω—å (–î–∞–∂–µ –ü–æ –ß—É—Ç—å-–ß—É—Ç—å!)</h3>
                <p class="text-gray-600">–ù–∞—á–Ω–∏ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–∞–∫, **–ö–ê–ö –ë–£–î–¢–û** —Ç–≤–æ—ë –Ω–æ–≤–æ–µ —É–±–µ–∂–¥–µ–Ω–∏–µ —É–∂–µ –∏—Å—Ç–∏–Ω–Ω–æ. –ú–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏ = –û–≥—Ä–æ–º–Ω—ã–µ –ø–æ–±–µ–¥—ã!</p>
                <div class="space-y-4" id="micro-actions-list">
                    <label class="flex items-center space-x-3 text-lg">
                        <input type="checkbox" class="form-checkbox h-6 w-6 text-[#00A19D] rounded focus:ring-[#FFB344]">
                        <span>**–î–µ–π—Å—Ç–≤—É–π "–ö–∞–∫ –ë—É–¥—Ç–æ":** –°–¥–µ–ª–∞–π —á—Ç–æ-—Ç–æ —Å–æ–≤—Å–µ–º –∫—Ä–æ—à–µ—á–Ω–æ–µ, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –Ω–æ–≤–æ–µ —É–±–µ–∂–¥–µ–Ω–∏–µ (—É–ª—ã–±–Ω–∏—Å—å –Ω–µ–∑–Ω–∞–∫–æ–º—Ü—É, –≤—ã—Å–∫–∞–∂–∏ –Ω–µ–±–æ–ª—å—à–æ–µ –º–Ω–µ–Ω–∏–µ).</span>
                    </label>
                    <label class="flex items-center space-x-3 text-lg">
                        <input type="checkbox" class="form-checkbox h-6 w-6 text-[#00A19D] rounded focus:ring-[#FFB344]">
                        <span>**–¢–≤–æ–π "–Ø–∫–æ—Ä—å –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏":** –ö–æ–≥–¥–∞ —á—É–≤—Å—Ç–≤—É–µ—à—å –ø–æ–∑–∏—Ç–∏–≤, —Å–¥–µ–ª–∞–π –æ—Å–æ–±–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ (—Å–æ–∂–º–∏ –∫—É–ª–∞–∫). –ü–æ–≤—Ç–æ—Ä—è–π —ç—Ç–æ! –ü–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–π —è–∫–æ—Ä—å, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å.</span>
                    </label>
                    <label class="flex items-center space-x-3 text-lg">
                        <input type="checkbox" class="form-checkbox h-6 w-6 text-[#00A19D] rounded focus:ring-[#FFB344]">
                        <span>**–ü–æ—Å—Ç–æ—è–Ω–Ω–æ "–ù–∞–ø–æ–º–∏–Ω–∞–π –°–µ–±–µ":** –ó–∞–ø–∏—à–∏ –Ω–æ–≤–æ–µ —É–±–µ–∂–¥–µ–Ω–∏–µ –Ω–∞ –¥–∏–∫—Ç–æ—Ñ–æ–Ω –∏ —Å–ª—É—à–∞–π. –ù–∞–ø–∏—à–∏ –Ω–∞ —Å—Ç–∏–∫–µ—Ä–µ –∏ —á–∏—Ç–∞–π –≤—Å–ª—É—Ö.</span>
                    </label>
                </div>
            </div>

            <div class="text-center mt-8">
                <p class="text-gray-700 text-lg mb-4">–¢—ã —Å–º–æ–∂–µ—à—å! –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—à—å —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º–∫–∏. –ù–∞—á–Ω–∏ —Å –º–∞–ª–æ–≥–æ, –¥–µ–ª–∞–π —ç—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ. –¢–≤–æ—è —Å–≤–æ–±–æ–¥–∞ —É–∂–µ –±–ª–∏–∑–∫–æ!</p>
                <button id="reset-app-btn" class="btn-primary text-lg px-10 py-4">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ –∏–ª–∏ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è!</button>
            </div>
        </section>

    </main>

    <script>
        let currentNegativeThought = "";
        const negativeThoughtInput = document.getElementById('negative-thought-input');
        const catchThoughtBtn = document.getElementById('catch-thought-btn');
        const step1Details = document.getElementById('step1-details');
        const errorMessage = document.getElementById('error-message');
        
        const step2Section = document.getElementById('step2');
        const duelArena = document.getElementById('duel-arena');
        const thoughtOnDisplay = document.getElementById('thought-on-display');
        const duelQuestionsContainer = document.getElementById('duel-questions');
        const duelQuestions = [
            document.getElementById('duel-q1'),
            document.getElementById('duel-q2'),
            document.getElementById('duel-q3')
        ];
        const duelNextButtons = document.querySelectorAll('.duel-next-btn');
        const duelCompleteMessage = document.getElementById('duel-complete-message');
        
        const step3Section = document.getElementById('step3');
        const newBeliefInput = document.getElementById('new-belief-input');
        const microActionsCheckboxes = document.querySelectorAll('#micro-actions-list input[type="checkbox"]');
        const resetAppBtn = document.getElementById('reset-app-btn');

        let currentDuelQuestionIndex = 0;
        let thoughtOpacity = 1.0;

        // Function to reset the entire application state
        function resetApp() {
            negativeThoughtInput.value = '';
            step1Details.classList.remove('visible-section');
            step1Details.classList.add('hidden-section');
            errorMessage.style.display = 'none';

            step2Section.classList.add('opacity-50', 'pointer-events-none');
            duelArena.classList.remove('visible-section');
            duelArena.classList.add('hidden-section');
            thoughtOnDisplay.textContent = '';
            thoughtOnDisplay.style.opacity = 1.0;
            currentDuelQuestionIndex = 0;
            duelQuestions.forEach((q, index) => {
                q.classList.add('hidden');
                if (index === 0) q.classList.remove('hidden');
            });
            duelQuestionsContainer.classList.remove('hidden'); // Ensure container is visible for new duel
            duelCompleteMessage.classList.add('hidden');
            duelCompleteMessage.classList.remove('visible-section');

            step3Section.classList.add('opacity-50', 'pointer-events-none');
            newBeliefInput.value = '';
            microActionsCheckboxes.forEach(checkbox => {
                checkbox.checked = false;
            });

            document.getElementById('hero').scrollIntoView({ behavior: 'smooth' });
        }

        catchThoughtBtn.addEventListener('click', () => {
            currentNegativeThought = negativeThoughtInput.value.trim();
            if (currentNegativeThought) {
                errorMessage.style.display = 'none'; // Hide error if input is valid
                step1Details.classList.remove('hidden-section');
                step1Details.classList.add('visible-section');
                thoughtOnDisplay.textContent = currentNegativeThought;
                
                // Enable Step 2
                step2Section.classList.remove('opacity-50', 'pointer-events-none');
                duelArena.classList.remove('hidden-section');
                duelArena.classList.add('visible-section');
                thoughtOpacity = 1.0;
                thoughtOnDisplay.style.opacity = thoughtOpacity;

                // Reset duel for new thought
                currentDuelQuestionIndex = 0;
                duelQuestions.forEach((q, index) => {
                    q.classList.add('hidden');
                    if (index === 0) q.classList.remove('hidden');
                });
                duelQuestionsContainer.classList.remove('hidden'); // Make sure questions container is visible
                duelCompleteMessage.classList.add('hidden');
                duelCompleteMessage.classList.remove('visible-section'); // Ensure complete message is hidden
            } else {
                errorMessage.style.display = 'block'; // Show error message
            }
        });

        duelNextButtons.forEach(button => {
            button.addEventListener('click', () => {
                if (currentDuelQuestionIndex < duelQuestions.length) {
                    duelQuestions[currentDuelQuestionIndex].classList.add('hidden');
                    thoughtOpacity -= 0.3; // Reduce opacity to fade the thought
                    thoughtOnDisplay.style.opacity = Math.max(0.1, thoughtOpacity); // Ensure it doesn't go below 0.1
                    currentDuelQuestionIndex++;

                    if (currentDuelQuestionIndex < duelQuestions.length) {
                        duelQuestions[currentDuelQuestionIndex].classList.remove('hidden');
                    } else {
                        duelQuestionsContainer.classList.add('hidden');
                        duelCompleteMessage.classList.remove('hidden');
                        duelCompleteMessage.classList.add('visible-section');
                        // Enable Step 3
                        step3Section.classList.remove('opacity-50', 'pointer-events-none');
                    }
                }
            });
        });

        // Attach reset function to the "–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ" button
        resetAppBtn.addEventListener('click', resetApp);

        // Smooth scroll for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Initial state for sections on page load
        document.addEventListener('DOMContentLoaded', () => {
            resetApp(); // Call reset to set initial state correctly
        });

    </script>
</body>
</html>
